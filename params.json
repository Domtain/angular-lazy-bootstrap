{"name":"angular-lazy-bootstrap","tagline":"Bootstarp angular app after fetching initial config/data ","body":"angular-lazy-bootstrap\r\n======================\r\n\r\n[![Build Status](https://travis-ci.org/rajeshsegu/angular-lazy-bootstrap.svg?branch=master)](https://travis-ci.org/rajeshsegu/angular-lazy-bootstrap)\r\n[![Gitter chat](https://badges.gitter.im/Join Chat.svg)](https://gitter.im/rajeshsegu/angular-lazy-bootstrap)\r\n\r\nThis elegant piece of code would help any Angular based single page web application to ideally load the initial configuration, global variables, server flags and UI flags before initializing the UI. It deffers the Angular bootstrapping process until we resolve all the chained promises. \r\n\r\n## Usage\r\n\r\nInstead of using the ```ng-app``` directive or ```angular.bootstrap()```, use the ```angular.lazy().resolve().bootstrap()``` to initialize your app.\r\n\r\n### Simple Case\r\n\r\n```js\r\n\r\nangular.lazy(\"demoApp\")\r\n  .resolve(['$http', function ($http) {\r\n      return $http.get('/demo/api/config.json')\r\n          .then(function (resp) {\r\n              window.app.config = resp.data;\r\n          });\r\n      }])\r\n  .bootstrap();\r\n\r\n```\r\nIn this code sample, ```demoApp``` would be lazily initialized once you fetch the config from the server and make it available to the angular app though global variables or any angular service as designed by the application.\r\n\r\n### Multiple Dependecies Case\r\n\r\n```js\r\n\r\nangular.lazy(\"demoApp\")\r\n  .resolve(['$http', function ($http) {\r\n     return $http.get('/demo/api/config.json')\r\n        .then(function (resp) {\r\n              window.app.config = resp.data;\r\n           }, function (err){\r\n               angular.element('#error').show();\r\n           });\r\n   }])\r\n  .resolve(['$http', function ($http) {\r\n     return $http.get('/demo/api/config-next.json')\r\n        .then(function (resp) {\r\n             window.app.config = resp.data;\r\n        }, function (err){\r\n             angular.element('#error').show();\r\n        });\r\n   }])\r\n  .resolve(['$q', '$timeout', function ($q, $timeout) {\r\n       var deferred = $q.defer();\r\n       $timeout(function () {\r\n           window.app.const = 'My Constant';\r\n           deferred.resolve();\r\n       }, 2000);\r\n       return deferred.promise;\r\n  }])\r\n  .bootstrap();\r\n\r\n```\r\nIn this code sample, ```demoApp``` would be lazily initialized once resolve each promise in the given order. In this case, it fetches initial config and then fetches a next config for partner website and then has a timeout resolve ( just an example ) before it boostraps the actual angular application. \r\n\r\n**Note** You can handle errors individually per promise or globally ( below example )\r\n\r\n### Error Case\r\n\r\n```js\r\n\r\nangular.lazy(\"demoApp\")\r\n  .resolve(['$q', '$timeout', function ($q, $timeout) {\r\n       var deferred = $q.defer();\r\n       $timeout(function () {\r\n           deferred.reject('EXCEPTION');\r\n       }, 2000);\r\n       return deferred.promise;\r\n    }])\r\n   .loading(function(){\r\n       angular.element('#loading').show();\r\n   })\r\n   .error(function(){\r\n       angular.element('#error').show();\r\n   })\r\n   .done(function() {\r\n       angular.element('#loading').hide();\r\n   })\r\n   .bootstrap();\r\n\r\n```\r\nIn this code sample, ```demoApp``` would not load since the promise is rejected. We have an ```error()``` handler that gives UI a chance to handle error initializing the app or to start a new flow.\r\n\r\n### More Control \r\n\r\n```js\r\n\r\nangular.lazy(\"demoApp\")\r\n  .resolve(['$http', function ($http) {\r\n      return $http.get('/demo/api/config.json')\r\n          .then(function (resp) {\r\n              window.app.config = resp.data;\r\n          });\r\n      }])\r\n   .loading(function(){\r\n       angular.element('#loading').show();\r\n   })\r\n   .error(function(){\r\n       angular.element('#error').show();\r\n   })\r\n   .done(function() {\r\n       angular.element('#loading').hide();\r\n   })\r\n   .bootstrap();\r\n\r\n```\r\nThis framework allows you to tap into different states during initializing the angular app, \r\n\r\n```loading()```: Gives control for the UI on loading phase ( promises are resolving during this state ) \r\n\r\n```error()```  : Gives control if an error occurs ( if any of the promise results in failure )\r\n\r\n```done()```   : Gives control once the app is initialized\r\n\r\n### DEMO\r\n\r\nI have included a node webserver to make this easy to try:\r\n\r\n```\r\ngit clone https://github.com/rajeshsegu/angular-lazy-bootstrap.git\r\nnpm install\r\nnode webserver.js\r\n[ access server at http://localhost:5050/ ]\r\n```\r\nYou can try out working samples at:\r\n\r\n```Simple Case```   : http://localhost:5050/demo/simple.html\r\n\r\n```Multi Case```    : http://localhost:5050/demo/multi.html\r\n\r\n```Error Case```    : http://localhost:5050/demo/error.html\r\n\r\n## License\r\n\r\n[MIT](http://opensource.org/licenses/MIT) Â© Rajesh Segu\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}